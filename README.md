# Лабораторная работа 3
## Задание
1. Для начала я скачиваю приложение UTM. Это комплексно системный эмулятор и хост виртуальных машин, специально разработанных для IOS и macOS. C его помощью можно запускать различные операционные системы.

<img width="1440" alt="Снимок экрана 2024-11-06 в 20 01 29" src="https://github.com/user-attachments/assets/4e94355d-4ebc-4aed-b77e-e19ec70c7b01">

2. Затем я настраиваю 3 виртуальные машины с дистрибутивом Ubuntu. 

<img width="1440" alt="Снимок экрана 2024-11-06 в 20 51 29" src="https://github.com/user-attachments/assets/c885146f-8699-40cb-87d0-2e954802ab67">

3. C помощью команды ifconfig узнаю ip-адрес каждой из машин:\
machine A: `192.168.64.2`\
machine B: `192.168.64.3`\
machine C: `192.168.64.4`

<img width="1440" alt="Снимок экрана 2024-11-06 в 22 01 00" src="https://github.com/user-attachments/assets/55694b0f-57be-4c51-b14d-b3c5fcbde922">

4. Далее для проверки доступа в сеть интернет запускаю команду - `ping -c 4 8.8.8.8`\
`-c 4` указывает на то, что будет отправлено 4 ICMP-запроса к указанному IP-адресу (в данном случае `8.8.8.8`, который является DNS-сервером Google).
   
   Если соединение активно то, мы получим такой результат для `ping -c 4 8.8.8.8`:
   - Отправлено 4 пакета
   - Получено 4 ответа
   - Указание времени отклика для каждого пакета (например, минимальное, максимальное и среднее время)
  
<img width="1440" alt="Снимок экрана 2024-11-06 в 22 19 50" src="https://github.com/user-attachments/assets/9d015657-d9b6-4f90-9d17-e6aee3f3a89e">

Такую проверку я провожу для каждой машины.

5. Теперь проверяю наличие сетевого доступа от машины A к машине B:\
   Для тестирования соединения двух виртуальных машин можно использовать ту же команду - `ping`, только теперь указываю IP-адрес машины, с которой хочу проверить соединение:
   `ping 192.168.64.3` и также проверяю наличие сетевого доступа от машины A к машине С:`ping 192.168.64.4`
   Если соединение активно, то будет выводить:
<img width="1440" alt="Снимок экрана 2024-11-06 в 22 25 51" src="https://github.com/user-attachments/assets/1f1470a3-4433-460b-a75b-b523308f43c4">
<img width="1440" alt="Снимок экрана 2024-11-06 в 22 25 55" src="https://github.com/user-attachments/assets/5a3ab482-db50-4024-b0e7-cc6b02c4fb99">

6. По условию задания нам нужно запретить сетевой доступ к машине С из машины B:\
   Для этого в терминале машины C будем использовать команду - `sudo iptables -A INPUT -s <IP_VM_B> -j DROP` для блокировки входящего трафика от машины B
   - `sudo` позволяет выполнить следующую команду от имени администратора
   - `iptables` утилита для настройки правил сетевой фильтрации в Linux
   - `-A INPUT` добавляем (-A - append) правило в цепочку входящего трафика (INPUT)
   - `-s <IP другой виртуальной машины>` Указывает, что правило применяется к пакетам, которые приходят с указанного IP-адреса другой виртуальной машины
   - `-j DROP` Эта часть говорит системе, что пакеты, которые соответствуют этому правилу, должны быть просто отброшены (DROP), то есть они не будут переданы дальше.

После этого проверяем соединение машины B и С:
<img width="1440" alt="Снимок экрана 2024-11-06 в 22 34 29" src="https://github.com/user-attachments/assets/ce0febb1-4e7c-4a45-87ec-96d1bf114828">

Видим, что при отправке пакетов от машины С мы не получили ответа (все отправленные пакеты были утеряны), следовательно доступ заблокирован.


   







